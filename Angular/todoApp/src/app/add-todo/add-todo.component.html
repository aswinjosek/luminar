<body>
  <p>
    <mat-toolbar color="primary">
      <!-- <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
        <mat-icon>menu</mat-icon>
      </button> -->
      <span>Todos</span>
      <div *ngIf="this.username"> <h3 class="ms-5 text-warning">Welcome {{username}} </h3></div>

      <span class="example-spacer"></span>
      <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
        <mat-icon>favorite</mat-icon>
      </button>
      <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon" (click)="logout()">
        <mat-icon>logout</mat-icon>
      </button>
    </mat-toolbar>
  </p>
    <div class="container">
        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <mat-card>
                    <form class="example-form" [formGroup]="addTodoForm">
                        <h1 style="text-align: center;">Add Todo</h1>
                        <mat-form-field class="example-full-width" appearance="fill">
                          <mat-label>Todo</mat-label>
                          <input type="text" matInput placeholder="Eg. Watch Movie" name="todo" formControlName="todo">
                          <mat-error *ngIf="
                            (this.addTodoForm.get('todo')?.touched ||
                              this.addTodoForm.get('todo')?.dirty) &&
                            this.addTodoForm.get('todo')?.errors
                          ">
                          Please enter a valid Todo
                        </mat-error>
                        </mat-form-field>
                      
                        <mat-form-field class="example-full-width" appearance="fill">
                            <mat-label>Choose a date</mat-label>
                            <input  matInput [matDatepicker]="picker" name="date" formControlName="date" >
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                            <mat-error *ngIf="
                            (this.addTodoForm.get('date')?.touched ||
                              this.addTodoForm.get('date')?.dirty) &&
                            this.addTodoForm.get('date')?.errors
                          ">
                          Date Required
                        </mat-error>
                          </mat-form-field>
                          <div class="d-flex justify-content-center"><button mat-raised-button color="primary" (click)="reloadCurrentRoute()" (click)="addTodo()">Add</button></div>
                      </form>

                </mat-card>
                <div class="d-flex justify-content-center"><a mat-raised-button color="accent" class="mt-3" routerLink="/viewtodo">View Todos</a></div>
                <div class="d-flex justify-content-center" >
                  <table class="mt-3">
                    <thead class="m-2">
                      <tr>
                        <th class="text-danger ">Today's Todos</th>
                      </tr>
                    </thead>
                    <tbody  style="text-align: center; font-weight: 800;">
                      <tr *ngFor=" let todo of todos">
                        <td>{{todo.todo}}</td>
  
                      </tr>
                    </tbody>
                    <tbody>
  
                    </tbody>
                  </table>
                </div>

            </div>
            <div class="col-4"></div>            
        </div>
    </div>



</body>